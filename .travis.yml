language: csharp
mono: none
dotnet: 2.2.301
solution: ArchUnit.sln
script:
  - dotnet restore
  - dotnet build
  - dotnet pack
  - dotnet test
  - dotnet publish
deploy:
  skip_cleanup: true
  script:
    - dotnet nuget push ./ArchUnitNET.*.nupkg -Verbosity detailed -ApiKey $NUGET_API_KEY -Source $NUGET_SOURCE
    on:
      branch: master